{% style %}
  #shopify-section-{{ section.id }} {
    --fsp-bg: {{ section.settings.background_color }};
    --fsp-card-bg: {{ section.settings.card_bg_color }};
    --fsp-accent: {{ section.settings.accent_color }};
    --fsp-text: {{ section.settings.text_color }};
    --fsp-heading: {{ section.settings.heading_color }};
    --fsp-btn-bg: {{ section.settings.button_bg_color }};
    --fsp-btn-text: {{ section.settings.button_text_color }};
    display: block;
    width: 100%;
  }
{% endstyle %}

<section class="free-sample-pack fsp-{{ section.id }}">
  <div class="fsp__container">
    <!-- Header -->
    <div class="fsp__header">
      {%- if section.settings.tagline != blank -%}
        <p class="fsp__tagline">{{ section.settings.tagline }}</p>
      {%- endif -%}

      <h2 class="fsp__title">
        <span class="fsp__title-highlight">{{ section.settings.title_highlight }}</span>
        <span class="fsp__title-regular">{{ section.settings.title_regular }}</span>
      </h2>

      <!-- Chevron Decoration -->
      <div class="fsp__chevron">
        {%- if section.settings.chevron_icon != blank -%}
          <img src="{{ section.settings.chevron_icon | image_url: width: 140 }}" alt="" class="fsp__chevron-img" loading="lazy">
        {%- else -%}
          <svg class="fsp__chevron-svg" viewBox="0 0 139 34" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M69.5 17L0 0H139L69.5 17Z" fill="var(--fsp-accent)"/>
            <path d="M69.5 34L0 17H139L69.5 34Z" fill="var(--fsp-accent)"/>
          </svg>
        {%- endif -%}
      </div>
    </div>

    <!-- Main Grid -->
    <div class="fsp__grid">
      <!-- Product Cards -->
      {%- for block in section.blocks -%}
        {%- case block.type -%}
          {%- when 'product_card' -%}
            <div class="fsp__card fsp__card--product" {{ block.shopify_attributes }}>
              <div class="fsp__card-content">
                <h3 class="fsp__card-title">{{ block.settings.title }}</h3>
                <p class="fsp__card-price">{{ block.settings.price }}</p>
                <p class="fsp__card-desc">{{ block.settings.description }}</p>
              </div>

              <div class="fsp__card-image">
                {%- if block.settings.image != blank -%}
                  <img
                    src="{{ block.settings.image | image_url: width: 800 }}"
                    alt="{{ block.settings.image.alt | default: block.settings.title }}"
                    loading="lazy"
                    class="fsp__product-img"
                  >
                {%- else -%}
                  <div class="fsp__placeholder-img"></div>
                {%- endif -%}

                {%- if block.settings.badge_icon != blank -%}
                  <div class="fsp__card-badge">
                    <img
                      src="{{ block.settings.badge_icon | image_url: width: 80 }}"
                      alt=""
                      loading="lazy"
                      class="fsp__badge-img"
                    >
                  </div>
                {%- endif -%}
              </div>

              <a href="{{ block.settings.button_link }}" class="fsp__card-btn fsp__card-btn--solid">
                {{ block.settings.button_text }}
              </a>
            </div>

          {%- when 'cta_card' -%}
            <div class="fsp__card fsp__card--cta {{ block.settings.card_style }}" {{ block.shopify_attributes }}>
              <div class="fsp__cta-icon">
                {%- if block.settings.icon_image != blank -%}
                  <img
                    src="{{ block.settings.icon_image | image_url: width: 100 }}"
                    alt=""
                    loading="lazy"
                    class="fsp__icon-img"
                  >
                {%- elsif block.settings.icon_type == 'cart' -%}
                  <svg class="fsp__icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9 22C9.55228 22 10 21.5523 10 21C10 20.4477 9.55228 20 9 20C8.44772 20 8 20.4477 8 21C8 21.5523 8.44772 22 9 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M20 22C20.5523 22 21 21.5523 21 21C21 20.4477 20.5523 20 20 20C19.4477 20 19 20.4477 19 21C19 21.5523 19.4477 22 20 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M1 1H5L7.68 14.39C7.77144 14.8504 8.02191 15.264 8.38755 15.5583C8.75318 15.8526 9.2107 16.009 9.68 16H19.4C19.8693 16.009 20.3268 15.8526 20.6925 15.5583C21.0581 15.264 21.3086 14.8504 21.4 14.39L23 6H6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                {%- else -%}
                  <svg class="fsp__icon-svg fsp__icon-svg--tag" viewBox="0 0 24 24" fill="var(--fsp-accent)" xmlns="http://www.w3.org/2000/svg">
                    <path d="M20.59 13.41L13.42 20.58C13.2343 20.766 13.0137 20.9135 12.7709 21.0141C12.5281 21.1148 12.2678 21.1666 12.005 21.1666C11.7422 21.1666 11.4819 21.1148 11.2391 21.0141C10.9963 20.9135 10.7757 20.766 10.59 20.58L2 12V2H12L20.59 10.59C20.9625 10.9647 21.1716 11.4716 21.1716 12C21.1716 12.5284 20.9625 13.0353 20.59 13.41Z" stroke="var(--fsp-accent)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M7 7H7.01" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                {%- endif -%}
              </div>

              <p class="fsp__cta-text">
                {{ block.settings.text_before }}
                {%- if block.settings.highlight_text != blank -%}
                  <span class="fsp__text-highlight">{{ block.settings.highlight_text }}</span>
                {%- endif -%}
                {{ block.settings.text_after }}
                {%- if block.settings.accent_text != blank -%}
                  <span class="fsp__text-accent">{{ block.settings.accent_text }}</span>
                {%- endif -%}
              </p>

              <a href="{{ block.settings.button_link }}" class="fsp__card-btn {{ block.settings.button_style }}">
                {{ block.settings.button_text }}
              </a>
            </div>
        {%- endcase -%}
      {%- endfor -%}
    </div>
  </div>
</section>

<style>
  /* ========================================
     BASE STYLES
     ======================================== */
  .free-sample-pack {
    display: flex;
    padding: 60px 16px;
    flex-direction: column;
    align-items: center;
    gap: 40px;
    background: var(--fsp-bg, #F5F5F5);
    font-family: 'Montserrat', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  }

  .free-sample-pack *,
  .free-sample-pack *::before,
  .free-sample-pack *::after {
    box-sizing: border-box;
  }

  .fsp__container {
    width: 100%;
    max-width: 1400px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 40px;
  }

  /* ========================================
     HEADER
     ======================================== */
  .fsp__header {
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
  }

  .fsp__tagline {
    font-size: 12px;
    font-weight: 600;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    color: var(--fsp-accent, #00D4D4);
    margin: 0;
  }

  .fsp__title {
    font-size: 32px;
    font-weight: 900;
    text-transform: uppercase;
    margin: 0;
    line-height: 1.1;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    align-items: center;
    gap: 8px 12px;
  }

  .fsp__title-highlight {
    background: var(--fsp-accent, #00D4D4);
    color: #000000;
    padding: 4px 12px;
    display: inline-block;
    transform: skewX(-3deg);
  }

  .fsp__title-regular {
    color: var(--fsp-heading, #000000);
  }

  .fsp__chevron {
    margin-top: 8px;
    width: 100px;
    display: flex;
    justify-content: center;
  }

  .fsp__chevron-img,
  .fsp__chevron-svg {
    width: 100%;
    height: auto;
  }

  /* ========================================
     GRID LAYOUT
     ======================================== */
  .fsp__grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 20px;
    width: 100%;
  }

  /* ========================================
     CARD BASE STYLES
     ======================================== */
  .fsp__card {
    background: var(--fsp-card-bg, #1A1A1A);
    border-radius: 16px;
    overflow: hidden;
    display: flex;
    flex-direction: column;
  }

  /* ========================================
     PRODUCT CARD
     ======================================== */
  .fsp__card--product {
    padding: 24px;
    gap: 16px;
  }

  .fsp__card-content {
    display: flex;
    flex-direction: column;
    gap: 4px;
  }

  .fsp__card-title {
    font-size: 14px;
    font-weight: 700;
    text-transform: uppercase;
    color: var(--fsp-text, #FFFFFF);
    margin: 0;
    letter-spacing: 0.05em;
  }

  .fsp__card-price {
    font-size: 18px;
    font-weight: 700;
    color: var(--fsp-text, #FFFFFF);
    margin: 0;
  }

  .fsp__card-desc {
    font-size: 11px;
    font-weight: 400;
    color: rgba(255, 255, 255, 0.7);
    margin: 8px 0 0;
    line-height: 1.5;
  }

  .fsp__card-image {
    position: relative;
    flex: 1;
    min-height: 200px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .fsp__product-img {
    width: 100%;
    height: 100%;
    max-height: 280px;
    object-fit: contain;
  }

  .fsp__placeholder-img {
    width: 100%;
    height: 200px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
  }

  .fsp__card-badge {
    position: absolute;
    bottom: 8px;
    left: 8px;
    width: 32px;
    height: 32px;
  }

  .fsp__badge-img {
    width: 100%;
    height: 100%;
    object-fit: contain;
  }

  .fsp__card-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 14px 24px;
    font-family: inherit;
    font-size: 12px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    text-decoration: none;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.3s ease;
    border: none;
    margin-top: auto;
  }

  .fsp__card-btn--solid {
    background: var(--fsp-btn-bg, #2D2D2D);
    color: var(--fsp-btn-text, #FFFFFF);
  }

  .fsp__card-btn--solid:hover {
    background: #3D3D3D;
  }

  .fsp__card-btn--outline {
    background: transparent;
    color: var(--fsp-text, #FFFFFF);
    border: 1px solid rgba(255, 255, 255, 0.3);
  }

  .fsp__card-btn--outline:hover {
    border-color: rgba(255, 255, 255, 0.6);
    background: rgba(255, 255, 255, 0.05);
  }

  .fsp__card-btn--accent {
    background: var(--fsp-accent, #00D4D4);
    color: #000000;
  }

  .fsp__card-btn--accent:hover {
    background: #00BFBF;
  }

  /* ========================================
     CTA CARD
     ======================================== */
  .fsp__card--cta {
    padding: 28px 24px;
    gap: 16px;
    align-items: flex-start;
  }

  .fsp__cta-icon {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .fsp__icon-img {
    width: 100%;
    height: 100%;
    object-fit: contain;
  }

  .fsp__icon-svg {
    width: 32px;
    height: 32px;
    color: var(--fsp-text, #FFFFFF);
  }

  .fsp__icon-svg--tag {
    width: 40px;
    height: 40px;
  }

  .fsp__cta-text {
    font-size: 18px;
    font-weight: 800;
    text-transform: uppercase;
    color: var(--fsp-text, #FFFFFF);
    margin: 0;
    line-height: 1.3;
    letter-spacing: 0.02em;
  }

  .fsp__text-highlight {
    background: var(--fsp-accent, #00D4D4);
    color: #000000;
    padding: 2px 6px;
    display: inline;
  }

  .fsp__text-accent {
    color: var(--fsp-accent, #00D4D4);
    display: block;
    margin-top: 4px;
  }

  /* ========================================
     RESPONSIVE - MEDIUM MOBILE (400px+)
     ======================================== */
  @media screen and (min-width: 400px) {
    .free-sample-pack {
      padding: 70px 20px;
      gap: 48px;
    }

    .fsp__container {
      gap: 48px;
    }

    .fsp__tagline {
      font-size: 13px;
    }

    .fsp__title {
      font-size: 38px;
    }

    .fsp__chevron {
      width: 120px;
    }

    .fsp__card--product {
      padding: 28px;
    }

    .fsp__card-title {
      font-size: 15px;
    }

    .fsp__card-price {
      font-size: 20px;
    }

    .fsp__card-desc {
      font-size: 12px;
    }

    .fsp__cta-text {
      font-size: 20px;
    }
  }

  /* ========================================
     RESPONSIVE - LARGE MOBILE (550px+)
     ======================================== */
  @media screen and (min-width: 550px) {
    .free-sample-pack {
      padding: 80px 24px;
      gap: 56px;
    }

    .fsp__container {
      gap: 56px;
    }

    .fsp__grid {
      grid-template-columns: repeat(2, 1fr);
      gap: 24px;
    }

    .fsp__tagline {
      font-size: 14px;
    }

    .fsp__title {
      font-size: 44px;
    }

    .fsp__title-highlight {
      padding: 6px 16px;
    }

    .fsp__chevron {
      width: 130px;
    }

    .fsp__card--product {
      padding: 30px;
    }

    .fsp__card-image {
      min-height: 220px;
    }

    .fsp__product-img {
      max-height: 300px;
    }
  }

  /* ========================================
     RESPONSIVE - TABLET (768px+)
     ======================================== */
  @media screen and (min-width: 768px) {
    .free-sample-pack {
      padding: 96px 40px;
      gap: 64px;
    }

    .fsp__container {
      gap: 64px;
    }

    .fsp__header {
      gap: 16px;
    }

    .fsp__tagline {
      font-size: 15px;
    }

    .fsp__title {
      font-size: 52px;
      gap: 12px 16px;
    }

    .fsp__title-highlight {
      padding: 8px 20px;
    }

    .fsp__chevron {
      width: 140px;
      margin-top: 12px;
    }

    .fsp__grid {
      gap: 28px;
    }

    .fsp__card--product {
      padding: 32px;
      gap: 20px;
    }

    .fsp__card-title {
      font-size: 16px;
    }

    .fsp__card-price {
      font-size: 22px;
    }

    .fsp__card-desc {
      font-size: 13px;
    }

    .fsp__card-image {
      min-height: 240px;
    }

    .fsp__card-btn {
      padding: 16px 28px;
      font-size: 13px;
    }

    .fsp__card--cta {
      padding: 32px 28px;
      gap: 18px;
    }

    .fsp__cta-icon {
      width: 44px;
      height: 44px;
    }

    .fsp__icon-svg {
      width: 36px;
      height: 36px;
    }

    .fsp__icon-svg--tag {
      width: 44px;
      height: 44px;
    }

    .fsp__cta-text {
      font-size: 22px;
    }

    .fsp__text-highlight {
      padding: 3px 8px;
    }
  }

  /* ========================================
     RESPONSIVE - DESKTOP (1024px+)
     ======================================== */
  @media screen and (min-width: 1024px) {
    .free-sample-pack {
      padding: 96px 48px;
    }

    .fsp__grid {
      grid-template-columns: 1fr 1fr 1fr;
      grid-template-rows: auto auto;
      gap: 24px;
    }

    /* Product cards span 1 column each, 2 rows */
    .fsp__card--product:nth-of-type(1) {
      grid-column: 1;
      grid-row: 1 / 3;
    }

    .fsp__card--product:nth-of-type(2) {
      grid-column: 2;
      grid-row: 1 / 3;
    }

    /* CTA cards stack in column 3 */
    .fsp__card--cta:nth-of-type(3) {
      grid-column: 3;
      grid-row: 1;
    }

    .fsp__card--cta:nth-of-type(4) {
      grid-column: 3;
      grid-row: 2;
    }

    .fsp__tagline {
      font-size: 16px;
    }

    .fsp__title {
      font-size: 56px;
    }

    .fsp__card--product {
      padding: 36px;
    }

    .fsp__card-image {
      min-height: 280px;
    }

    .fsp__product-img {
      max-height: 350px;
    }

    .fsp__card-badge {
      width: 40px;
      height: 40px;
      bottom: 12px;
      left: 12px;
    }

    .fsp__card--cta {
      padding: 36px 32px;
      justify-content: center;
    }

    .fsp__cta-text {
      font-size: 24px;
    }
  }

  /* ========================================
     RESPONSIVE - LARGE DESKTOP (1200px+)
     ======================================== */
  @media screen and (min-width: 1200px) {
    .fsp__grid {
      gap: 28px;
    }

    .fsp__card--product {
      padding: 40px;
    }

    .fsp__card-title {
      font-size: 17px;
    }

    .fsp__card-price {
      font-size: 24px;
    }

    .fsp__card-desc {
      font-size: 14px;
      max-width: 280px;
    }

    .fsp__card-image {
      min-height: 300px;
    }

    .fsp__card--cta {
      padding: 40px 36px;
    }

    .fsp__cta-icon {
      width: 48px;
      height: 48px;
    }

    .fsp__icon-svg {
      width: 40px;
      height: 40px;
    }

    .fsp__icon-svg--tag {
      width: 48px;
      height: 48px;
    }

    .fsp__cta-text {
      font-size: 26px;
    }
  }

  /* ========================================
     RESPONSIVE - XL DESKTOP (1400px+)
     ======================================== */
  @media screen and (min-width: 1400px) {
    .free-sample-pack {
      padding: 96px 60px;
    }

    .fsp__container {
      max-width: 1500px;
    }

    .fsp__title {
      font-size: 60px;
    }

    .fsp__grid {
      gap: 32px;
    }

    .fsp__card--product {
      padding: 44px;
    }

    .fsp__card-image {
      min-height: 320px;
    }

    .fsp__product-img {
      max-height: 380px;
    }

    .fsp__cta-text {
      font-size: 28px;
    }

    .fsp__card-btn {
      padding: 18px 32px;
      font-size: 14px;
    }
  }
</style>

{% schema %}
{
  "name": "SEK Free Sample Pack",
  "tag": "section",
  "class": "section-free-sample-pack",
  "settings": [
    {
      "type": "header",
      "content": "Header Content"
    },
    {
      "type": "text",
      "id": "tagline",
      "label": "Tagline",
      "default": "TRY IT. FEEL IT. PRESS IT."
    },
    {
      "type": "text",
      "id": "title_highlight",
      "label": "Title (Highlighted Part)",
      "default": "FREE"
    },
    {
      "type": "text",
      "id": "title_regular",
      "label": "Title (Regular Part)",
      "default": "SAMPLE PACK"
    },
    {
      "type": "image_picker",
      "id": "chevron_icon",
      "label": "Chevron Decoration Image",
      "info": "Upload custom chevron/arrow decoration. Leave empty for default SVG."
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#F5F5F5"
    },
    {
      "type": "color",
      "id": "card_bg_color",
      "label": "Card Background Color",
      "default": "#1A1A1A"
    },
    {
      "type": "color",
      "id": "accent_color",
      "label": "Accent Color",
      "default": "#00D4D4"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Card Text Color",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Header Text Color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "button_bg_color",
      "label": "Button Background Color",
      "default": "#2D2D2D"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Button Text Color",
      "default": "#FFFFFF"
    }
  ],
  "blocks": [
    {
      "type": "product_card",
      "name": "Product Card",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "FREE SAMPLE PACK"
        },
        {
          "type": "text",
          "id": "price",
          "label": "Price",
          "default": "$0.00"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Description",
          "default": "Get a taste of our premium quality, for free. Includes a variety of sample prints so you can test our colors, softness, and durability before placing your first real order."
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Product Image"
        },
        {
          "type": "image_picker",
          "id": "badge_icon",
          "label": "Badge/Logo Icon",
          "info": "Small icon displayed at bottom left of image"
        },
        {
          "type": "text",
          "id": "button_text",
          "label": "Button Text",
          "default": "GET FREE SAMPLE"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "Button Link"
        }
      ]
    },
    {
      "type": "cta_card",
      "name": "CTA Card",
      "settings": [
        {
          "type": "select",
          "id": "icon_type",
          "label": "Icon Type",
          "options": [
            {
              "value": "cart",
              "label": "Shopping Cart"
            },
            {
              "value": "tag",
              "label": "Price Tag"
            }
          ],
          "default": "cart"
        },
        {
          "type": "image_picker",
          "id": "icon_image",
          "label": "Custom Icon Image",
          "info": "Upload custom icon. Overrides icon type selection."
        },
        {
          "type": "text",
          "id": "text_before",
          "label": "Text Before Highlight",
          "default": "DON'T NEED A SAMPLE? JUST"
        },
        {
          "type": "text",
          "id": "highlight_text",
          "label": "Highlighted Text",
          "default": "ORDER"
        },
        {
          "type": "text",
          "id": "text_after",
          "label": "Text After Highlight",
          "default": "DIRECTLY."
        },
        {
          "type": "text",
          "id": "accent_text",
          "label": "Accent Text (New Line)",
          "info": "Text in accent color on a new line"
        },
        {
          "type": "text",
          "id": "button_text",
          "label": "Button Text",
          "default": "ORDER DIRECTLY"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "Button Link"
        },
        {
          "type": "select",
          "id": "button_style",
          "label": "Button Style",
          "options": [
            {
              "value": "fsp__card-btn--solid",
              "label": "Solid"
            },
            {
              "value": "fsp__card-btn--outline",
              "label": "Outline"
            },
            {
              "value": "fsp__card-btn--accent",
              "label": "Accent"
            }
          ],
          "default": "fsp__card-btn--outline"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "SEK Free Sample Pack",
      "blocks": [
        {
          "type": "product_card",
          "settings": {
            "title": "FREE SAMPLE PACK",
            "price": "$0.00",
            "description": "Get a taste of our premium quality, for free. Includes a variety of sample prints so you can test our colors, softness, and durability before placing your first real order.",
            "button_text": "GET FREE SAMPLE"
          }
        },
        {
          "type": "product_card",
          "settings": {
            "title": "CUSTOM GANG SHEET",
            "price": "$19.99",
            "description": "Use this product if you have a pre-made gang sheet file. Select the desired size for your gang sheet. Adjust the quantity to get multiple sheets.",
            "button_text": "CUSTOM GANG SHEET"
          }
        },
        {
          "type": "cta_card",
          "settings": {
            "icon_type": "cart",
            "text_before": "DON'T NEED A SAMPLE? JUST",
            "highlight_text": "ORDER",
            "text_after": "DIRECTLY.",
            "button_text": "ORDER DIRECTLY",
            "button_style": "fsp__card-btn--outline"
          }
        },
        {
          "type": "cta_card",
          "settings": {
            "icon_type": "tag",
            "text_before": "WANT TO TEST? UPLOAD YOUR DESIGN AND ORDER INSTANTLY,",
            "accent_text": "NO MINIMUMS.",
            "button_text": "EASY ORDER",
            "button_style": "fsp__card-btn--accent"
          }
        }
      ]
    }
  ]
}
{% endschema %}
