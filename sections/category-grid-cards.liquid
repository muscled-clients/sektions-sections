<style>
  .category-grid-section {
    width: 100%;
    padding: {{ section.settings.section_padding_top }}px {{ section.settings.section_padding_horizontal }}px {{ section.settings.section_padding_bottom }}px;
    background-color: {{ section.settings.background_color }};
    overflow: hidden;
  }

  .category-grid-container {
    max-width: {{ section.settings.container_max_width }}px;
    margin: 0 auto;
  }

  .category-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: {{ section.settings.card_gap }}px;
  }

  .category-card {
    position: relative;
    background-color: #ffffff;
    border-radius: {{ section.settings.card_border_radius }}px;
    padding: 0;
    display: flex;
    flex-direction: column;
    text-decoration: none;
    transition: all 0.3s ease;
    box-shadow: 8px 8px 20px rgba(0, 0, 0, 0.08);
    overflow: hidden;
  }

  .category-card:hover {
    transform: translateY(-4px);
    box-shadow: 10px 10px 30px rgba(0, 0, 0, 0.12);
  }

  .category-card__image-wrapper {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex: 1;
    padding: 20px 20px 10px 20px;
  }

  .category-card__image {
    width: 100%;
    height: auto;
    object-fit: contain;
  }

  .category-card__label {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    font-size: {{ section.settings.label_font_size }}px;
    font-weight: 500;
    color: {{ section.settings.label_color }};
    letter-spacing: 0.3px;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    padding: 0 20px 20px 20px;
  }

  .category-card__arrow {
    width: 7px;
    height: auto;
    flex-shrink: 0;
  }

  @media (max-width: 1024px) {
    .category-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (max-width: 768px) {
    .category-grid-section {
      padding-left: 16px;
      padding-right: 16px;
    }

    .category-grid {
      grid-template-columns: repeat(2, 1fr);
      gap: 16px;
    }

    .category-card__image-wrapper {
      padding: 16px 16px 8px 16px;
    }

    .category-card__label {
      padding: 0 16px 16px 16px;
      font-size: 14px;
    }
  }
</style>

<div class="category-grid-section">
  <div class="category-grid-container">
    <div class="category-grid">
      {% for block in section.blocks %}
        <a href="{{ block.settings.link }}" class="category-card" {{ block.shopify_attributes }}>
          <div class="category-card__image-wrapper">
            {% if block.settings.image != blank %}
              <img src="{{ block.settings.image | img_url: 'medium' }}" alt="{{ block.settings.title }}" class="category-card__image" loading="lazy">
            {% else %}
              <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180' viewBox='0 0 180 180'%3E%3Crect width='180' height='180' fill='%23f0f0f0'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' font-family='sans-serif' font-size='16' fill='%23999999'%3EImage%3C/text%3E%3C/svg%3E" alt="Placeholder" class="category-card__image">
            {% endif %}
          </div>

          <div class="category-card__label">
            {{ block.settings.title }}
            <svg class="category-card__arrow" xmlns="http://www.w3.org/2000/svg" width="6" height="10" viewBox="0 0 6 10" fill="none">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M0.545306 0.777972C0.498751 0.82441 0.461814 0.879577 0.436612 0.940311C0.41141 1.00105 0.398438 1.06616 0.398438 1.13191C0.398438 1.19767 0.41141 1.26278 0.436612 1.32351C0.461814 1.38425 0.498751 1.43941 0.545306 1.48585L4.19169 5.13123L0.545306 8.77662C0.451436 8.87049 0.3987 8.9978 0.3987 9.13056C0.3987 9.26331 0.451436 9.39063 0.545306 9.4845C0.639177 9.57837 0.766493 9.6311 0.899246 9.6311C1.032 9.6311 1.15932 9.57837 1.25319 9.4845L5.25251 5.48517C5.29906 5.43874 5.336 5.38357 5.3612 5.32284C5.3864 5.2621 5.39938 5.19699 5.39938 5.13123C5.39938 5.06548 5.3864 5.00037 5.3612 4.93963C5.336 4.8789 5.29906 4.82373 5.25251 4.77729L1.25319 0.777972C1.20675 0.731417 1.15158 0.69448 1.09085 0.669278C1.03011 0.644076 0.965003 0.631103 0.899246 0.631103C0.83349 0.631103 0.76838 0.644076 0.707645 0.669278C0.64691 0.69448 0.591744 0.731417 0.545306 0.777972Z" fill="#121212" fill-opacity="0.75"/>
            </svg>
          </div>
        </a>
      {% endfor %}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Category Grid Cards",
  "tag": "section",
  "class": "section-category-grid",
  "settings": [
    {
      "type": "header",
      "content": "Section Settings"
    },
    {
      "type": "range",
      "id": "container_max_width",
      "min": 1000,
      "max": 1600,
      "step": 50,
      "unit": "px",
      "label": "Container Max Width",
      "default": 1400
    },
    {
      "type": "range",
      "id": "section_padding_top",
      "min": 0,
      "max": 120,
      "step": 10,
      "unit": "px",
      "label": "Section Padding Top",
      "default": 60
    },
    {
      "type": "range",
      "id": "section_padding_bottom",
      "min": 0,
      "max": 120,
      "step": 10,
      "unit": "px",
      "label": "Section Padding Bottom",
      "default": 60
    },
    {
      "type": "range",
      "id": "section_padding_horizontal",
      "min": 20,
      "max": 200,
      "step": 10,
      "unit": "px",
      "label": "Section Padding Left/Right",
      "default": 60
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#f5f5f5"
    },
    {
      "type": "header",
      "content": "Card Settings"
    },
    {
      "type": "range",
      "id": "card_gap",
      "min": 10,
      "max": 50,
      "step": 5,
      "unit": "px",
      "label": "Gap Between Cards",
      "default": 25
    },
    {
      "type": "range",
      "id": "card_padding",
      "min": 20,
      "max": 60,
      "step": 5,
      "unit": "px",
      "label": "Card Padding",
      "default": 30
    },
    {
      "type": "range",
      "id": "card_border_radius",
      "min": 0,
      "max": 30,
      "step": 2,
      "unit": "px",
      "label": "Card Border Radius",
      "default": 16
    },
    {
      "type": "header",
      "content": "Typography"
    },
    {
      "type": "range",
      "id": "label_font_size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Label Font Size",
      "default": 16
    },
    {
      "type": "color",
      "id": "label_color",
      "label": "Label Color",
      "default": "#000000"
    }
  ],
  "blocks": [
    {
      "type": "category_card",
      "name": "Category Card",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Category Image"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Category Title",
          "default": "Category"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Category Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Category Grid Cards",
      "blocks": [
        {
          "type": "category_card",
          "settings": {
            "title": "Phones"
          }
        },
        {
          "type": "category_card",
          "settings": {
            "title": "Laptops"
          }
        },
        {
          "type": "category_card",
          "settings": {
            "title": "Tablets"
          }
        },
        {
          "type": "category_card",
          "settings": {
            "title": "Watches"
          }
        },
        {
          "type": "category_card",
          "settings": {
            "title": "Gaming"
          }
        },
        {
          "type": "category_card",
          "settings": {
            "title": "Drones"
          }
        },
        {
          "type": "category_card",
          "settings": {
            "title": "Devices"
          }
        },
        {
          "type": "category_card",
          "settings": {
            "title": "More"
          }
        }
      ]
    }
  ]
}
{% endschema %}
