{% style %}
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@400;500;600;700&family=Roboto:wght@400;500;700&family=Open+Sans:wght@400;500;600;700&display=swap');
  #shopify-section-{{ section.id }} {
    padding: {{ section.settings.padding_top }}px 0 {{ section.settings.padding_bottom }}px;
    background-color: {{ section.settings.background_color }};
  }
  #shopify-section-{{ section.id }} .style-motion-wrapper {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 40px;
  }
  #shopify-section-{{ section.id }} .style-motion-heading {
    font-size: {{ section.settings.heading_size }}px;
    font-weight: {{ section.settings.heading_weight }};
    color: {{ section.settings.heading_color }};
    text-align: center;
    margin: 0 0 40px 0;
    font-family: {{ section.settings.heading_font }};
  }
  #shopify-section-{{ section.id }} .style-motion-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: {{ section.settings.gap }}px;
    justify-items: center;
  }
  #shopify-section-{{ section.id }} .style-motion-video-container {
    width: 100%;
    aspect-ratio: 9 / 16;
    border-radius: {{ section.settings.border_radius }}px;
    overflow: hidden;
    background-color: #f5f5f5;
  }
  #shopify-section-{{ section.id }} .style-motion-video-container video {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }
  #shopify-section-{{ section.id }} .style-motion-video-container img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }
  @media screen and (max-width: 990px) {
    #shopify-section-{{ section.id }} .style-motion-wrapper {
      padding: 0 30px;
    }
    #shopify-section-{{ section.id }} .style-motion-heading {
      font-size: calc({{ section.settings.heading_size }}px * 0.85);
      margin-bottom: 30px;
    }
    #shopify-section-{{ section.id }} .style-motion-grid {
      gap: 20px;
    }
  }
  @media screen and (max-width: 750px) {
    #shopify-section-{{ section.id }} .style-motion-wrapper {
      padding: 0 0 0 20px;
    }
    #shopify-section-{{ section.id }} .style-motion-heading {
      font-size: calc({{ section.settings.heading_size }}px * 0.75);
      margin-bottom: 24px;
      padding-right: 20px;
    }
    #shopify-section-{{ section.id }} .style-motion-grid {
      display: flex;
      overflow-x: auto;
      scroll-snap-type: x mandatory;
      -webkit-overflow-scrolling: touch;
      gap: 12px;
      padding-right: 20px;
      scrollbar-width: none;
      -ms-overflow-style: none;
    }
    #shopify-section-{{ section.id }} .style-motion-grid::-webkit-scrollbar {
      display: none;
    }
    #shopify-section-{{ section.id }} .style-motion-video-container {
      flex: 0 0 70vw;
      min-width: 70vw;
      max-width: 70vw;
      scroll-snap-align: start;
    }
  }
{% endstyle %}
<div class="style-motion-section">
  <div class="style-motion-wrapper">
    {% if section.settings.heading != blank %}
      <h2 class="style-motion-heading">{{ section.settings.heading }}</h2>
    {% endif %}
    <div class="style-motion-grid">
      {% if section.settings.video_1 != blank %}
        <div class="style-motion-video-container">
          {{ section.settings.video_1 | video_tag: autoplay: true, loop: true, muted: true, playsinline: true, controls: false }}
        </div>
      {% elsif section.settings.video_1_url != blank %}
        <div class="style-motion-video-container">
          <video autoplay loop muted playsinline>
            <source src="{{ section.settings.video_1_url }}" type="video/mp4">
          </video>
        </div>
      {% elsif section.settings.image_1 != blank %}
        <div class="style-motion-video-container">
          <img src="{{ section.settings.image_1 | image_url: width: 600 }}" alt="{{ section.settings.image_1.alt | default: section.settings.heading }}">
        </div>
      {% else %}
        <div class="style-motion-video-container">
          {{ 'lifestyle-1' | placeholder_svg_tag }}
        </div>
      {% endif %}
      {% if section.settings.video_2 != blank %}
        <div class="style-motion-video-container">
          {{ section.settings.video_2 | video_tag: autoplay: true, loop: true, muted: true, playsinline: true, controls: false }}
        </div>
      {% elsif section.settings.video_2_url != blank %}
        <div class="style-motion-video-container">
          <video autoplay loop muted playsinline>
            <source src="{{ section.settings.video_2_url }}" type="video/mp4">
          </video>
        </div>
      {% elsif section.settings.image_2 != blank %}
        <div class="style-motion-video-container">
          <img src="{{ section.settings.image_2 | image_url: width: 600 }}" alt="{{ section.settings.image_2.alt | default: section.settings.heading }}">
        </div>
      {% else %}
        <div class="style-motion-video-container">
          {{ 'lifestyle-2' | placeholder_svg_tag }}
        </div>
      {% endif %}
      {% if section.settings.video_3 != blank %}
        <div class="style-motion-video-container">
          {{ section.settings.video_3 | video_tag: autoplay: true, loop: true, muted: true, playsinline: true, controls: false }}
        </div>
      {% elsif section.settings.video_3_url != blank %}
        <div class="style-motion-video-container">
          <video autoplay loop muted playsinline>
            <source src="{{ section.settings.video_3_url }}" type="video/mp4">
          </video>
        </div>
      {% elsif section.settings.image_3 != blank %}
        <div class="style-motion-video-container">
          <img src="{{ section.settings.image_3 | image_url: width: 600 }}" alt="{{ section.settings.image_3.alt | default: section.settings.heading }}">
        </div>
      {% else %}
        <div class="style-motion-video-container">
          {{ 'lifestyle-1' | placeholder_svg_tag }}
        </div>
      {% endif %}
    </div>
  </div>
</div>
{% schema %}
{
  "name": "Style in Motion",
  "tag": "section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Style in Motion"
    },
    {
      "type": "header",
      "content": "Video 1"
    },
    {
      "type": "video",
      "id": "video_1",
      "label": "Video 1 (Shopify hosted)"
    },
    {
      "type": "text",
      "id": "video_1_url",
      "label": "Video 1 URL (external)"
    },
    {
      "type": "image_picker",
      "id": "image_1",
      "label": "Fallback image 1"
    },
    {
      "type": "header",
      "content": "Video 2"
    },
    {
      "type": "video",
      "id": "video_2",
      "label": "Video 2 (Shopify hosted)"
    },
    {
      "type": "text",
      "id": "video_2_url",
      "label": "Video 2 URL (external)"
    },
    {
      "type": "image_picker",
      "id": "image_2",
      "label": "Fallback image 2"
    },
    {
      "type": "header",
      "content": "Video 3"
    },
    {
      "type": "video",
      "id": "video_3",
      "label": "Video 3 (Shopify hosted)"
    },
    {
      "type": "text",
      "id": "video_3_url",
      "label": "Video 3 URL (external)"
    },
    {
      "type": "image_picker",
      "id": "image_3",
      "label": "Fallback image 3"
    },
    {
      "type": "header",
      "content": "Styling"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "heading_size",
      "label": "Heading size",
      "min": 24,
      "max": 48,
      "step": 2,
      "unit": "px",
      "default": 34
    },
    {
      "type": "select",
      "id": "heading_font",
      "label": "Heading font family",
      "options": [
        {"value": "inherit", "label": "Default"},
        {"value": "Inter, sans-serif", "label": "Inter"},
        {"value": "Poppins, sans-serif", "label": "Poppins"},
        {"value": "Roboto, sans-serif", "label": "Roboto"},
        {"value": "Open Sans, sans-serif", "label": "Open Sans"},
        {"value": "system-ui, sans-serif", "label": "System UI"},
        {"value": "Arial, sans-serif", "label": "Arial"},
        {"value": "Helvetica, sans-serif", "label": "Helvetica"},
        {"value": "Georgia, serif", "label": "Georgia"},
        {"value": "Verdana, sans-serif", "label": "Verdana"}
      ],
      "default": "inherit"
    },
    {
      "type": "select",
      "id": "heading_weight",
      "label": "Heading font weight",
      "options": [
        {"value": "400", "label": "Normal"},
        {"value": "700", "label": "Bold"}
      ],
      "default": "700"
    },
    {
      "type": "range",
      "id": "border_radius",
      "label": "Video border radius",
      "min": 0,
      "max": 50,
      "step": 2,
      "unit": "px",
      "default": 30
    },
    {
      "type": "range",
      "id": "gap",
      "label": "Gap between videos",
      "min": 10,
      "max": 60,
      "step": 5,
      "unit": "px",
      "default": 25
    },
    {
      "type": "header",
      "content": "Spacing"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Padding top",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "default": 50
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Padding bottom",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "default": 50
    }
  ],
  "presets": [
    {
      "name": "Style in Motion"
    }
  ]
}
{% endschema %}
