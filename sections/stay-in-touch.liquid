<style>
  .stay-in-touch-section {
    padding: {{ section.settings.section_padding_top }}px {{ section.settings.section_padding_horizontal }}px {{ section.settings.section_padding_bottom }}px {{ section.settings.section_padding_horizontal }}px;
    max-width: {{ section.settings.max_width }}px;
    margin: 0 auto;
  }

  .stay-in-touch-header {
    text-align: center;
    margin-bottom: {{ section.settings.header_margin_bottom }}px;
  }

  .stay-in-touch-title {
    font-size: {{ section.settings.heading_font_size }}px;
    font-weight: {{ section.settings.heading_font_weight }};
    color: {{ section.settings.heading_color }};
    margin-bottom: {{ section.settings.heading_margin_bottom }}px;
    line-height: {{ section.settings.heading_line_height }};
  }

  .stay-in-touch-subtitle {
    font-size: {{ section.settings.subheading_font_size }}px;
    color: {{ section.settings.subheading_color }};
    font-weight: {{ section.settings.subheading_font_weight }};
  }

  .stay-in-touch-grid {
    display: grid;
    grid-template-columns: {{ section.settings.large_image_width }}% {{ section.settings.small_images_width }}%;
    gap: {{ section.settings.grid_gap }}px;
    width: 100%;
  }

  .image-wrapper {
    position: relative;
    overflow: hidden;
    border-radius: {{ section.settings.border_radius }}px;
    width: 100%;
    height: {{ section.settings.desktop_image_height }}px;
  }

  .image-link {
    display: block;
    width: 100%;
    height: 100%;
  }

  .touch-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
  }

  .image-wrapper:hover .touch-image {
    transform: scale(1.05);
  }

  .images-row {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: {{ section.settings.small_images_gap }}px;
  }

  /* Tablet Layout */
  @media screen and (max-width: 1024px) {
    .stay-in-touch-grid {
      grid-template-columns: 1fr;
      grid-template-rows: auto auto;
      gap: 16px;
    }

    .image-wrapper:first-child {
      grid-column: 1;
      grid-row: 1;
    }

    .images-row {
      grid-column: 1;
      grid-row: 2;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 16px;
    }
  }

  /* Mobile Layout */
  @media screen and (max-width: 768px) {
    .stay-in-touch-title {
      font-size: {{ section.settings.mobile_heading_font_size }}px;
    }

    .stay-in-touch-subtitle {
      font-size: {{ section.settings.mobile_subheading_font_size }}px;
    }

    .stay-in-touch-section {
      padding: {{ section.settings.mobile_section_padding_top }}px {{ section.settings.mobile_section_padding_horizontal }}px {{ section.settings.mobile_section_padding_bottom }}px {{ section.settings.mobile_section_padding_horizontal }}px;
    }

    .stay-in-touch-header {
      margin-bottom: {{ section.settings.mobile_header_margin_bottom }}px;
    }

    .stay-in-touch-grid {
      grid-template-columns: 1fr;
      grid-template-rows: auto auto;
      gap: {{ section.settings.mobile_grid_gap }}px;
    }

    .image-wrapper:first-child {
      grid-column: 1;
      grid-row: 1;
      height: 280px;
    }

    .images-row {
      grid-column: 1;
      grid-row: 2;
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: {{ section.settings.mobile_small_images_gap }}px;
    }

    .images-row .image-wrapper {
      height: 280px;
    }

    .images-row .image-wrapper:nth-child(3) {
      display: block;
      grid-column: 1;
      grid-row: 2;
      justify-self: start;
      width: 100%;
      height: 280px;
    }
  }

  @media screen and (max-width: 480px) {
    .stay-in-touch-title {
      font-size: 28px;
    }

    .image-wrapper:first-child {
      height: 250px;
    }

    .images-row .image-wrapper {
      height: 250px;
    }

    .images-row .image-wrapper:nth-child(3) {
      height: 250px;
    }
  }
</style>

<section class="stay-in-touch-section">
  <div class="stay-in-touch-header">
    <h2 class="stay-in-touch-title">{{ section.settings.heading }}</h2>
    <p class="stay-in-touch-subtitle">{{ section.settings.subheading }}</p>
  </div>

  <div class="stay-in-touch-grid">
    <!-- First Large Image -->
    <div class="image-wrapper">
      {% if section.settings.image_1_link != blank %}
        <a href="{{ section.settings.image_1_link }}" class="image-link">
      {% endif %}

      {% if section.settings.image_1 != blank %}
        <img
          src="{{ section.settings.image_1 | img_url: '600x400' }}"
          srcset="{{ section.settings.image_1 | img_url: '400x300' }} 400w,
                  {{ section.settings.image_1 | img_url: '600x400' }} 600w,
                  {{ section.settings.image_1 | img_url: '800x600' }} 800w"
          sizes="(max-width: 768px) 100vw, (max-width: 1024px) 100vw, 40vw"
          alt="{{ section.settings.image_1.alt | default: section.settings.heading }}"
          class="touch-image"
          loading="lazy"
        >
      {% else %}
        {{ 'lifestyle-1' | placeholder_svg_tag: 'touch-image' }}
      {% endif %}

      {% if section.settings.image_1_link != blank %}
        </a>
      {% endif %}
    </div>

    <!-- Smaller Images Row -->
    <div class="images-row">
      {% for i in (2..4) %}
        {% assign image_setting = 'image_' | append: i %}
        {% assign link_setting = 'image_' | append: i | append: '_link' %}

        <div class="image-wrapper">
          {% if section.settings[link_setting] != blank %}
            <a href="{{ section.settings[link_setting] }}" class="image-link">
          {% endif %}

          {% if section.settings[image_setting] != blank %}
            <img
              src="{{ section.settings[image_setting] | img_url: '400x300' }}"
              srcset="{{ section.settings[image_setting] | img_url: '300x225' }} 300w,
                      {{ section.settings[image_setting] | img_url: '400x300' }} 400w,
                      {{ section.settings[image_setting] | img_url: '500x375' }} 500w"
              sizes="(max-width: 768px) 50vw, (max-width: 1024px) 33vw, 20vw"
              alt="{{ section.settings[image_setting].alt | default: section.settings.heading }}"
              class="touch-image"
              loading="lazy"
            >
          {% else %}
            {{ 'lifestyle-' | append: i | placeholder_svg_tag: 'touch-image' }}
          {% endif %}

          {% if section.settings[link_setting] != blank %}
            </a>
          {% endif %}
        </div>
      {% endfor %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Stay in Touch",
  "settings": [
    {
      "type": "header",
      "content": "Section Layout"
    },
    {
      "type": "range",
      "id": "max_width",
      "min": 900,
      "max": 1600,
      "step": 50,
      "unit": "px",
      "label": "Maximum width",
      "default": 1200
    },
    {
      "type": "range",
      "id": "section_padding_top",
      "min": 0,
      "max": 120,
      "step": 5,
      "unit": "px",
      "label": "Section padding top",
      "default": 60
    },
    {
      "type": "range",
      "id": "section_padding_bottom",
      "min": 0,
      "max": 120,
      "step": 5,
      "unit": "px",
      "label": "Section padding bottom",
      "default": 60
    },
    {
      "type": "range",
      "id": "section_padding_horizontal",
      "min": 0,
      "max": 60,
      "step": 5,
      "unit": "px",
      "label": "Section horizontal padding",
      "default": 20
    },
    {
      "type": "header",
      "content": "Text Content"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Stay in touch"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Subheading",
      "default": "@section.store"
    },
    {
      "type": "header",
      "content": "Typography - Heading"
    },
    {
      "type": "range",
      "id": "heading_font_size",
      "min": 24,
      "max": 72,
      "step": 2,
      "unit": "px",
      "label": "Heading font size",
      "default": 48
    },
    {
      "type": "select",
      "id": "heading_font_weight",
      "label": "Heading font weight",
      "options": [
        {
          "value": "400",
          "label": "Normal"
        },
        {
          "value": "500",
          "label": "Medium"
        },
        {
          "value": "600",
          "label": "Semi Bold"
        },
        {
          "value": "700",
          "label": "Bold"
        },
        {
          "value": "800",
          "label": "Extra Bold"
        }
      ],
      "default": "700"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "heading_line_height",
      "min": 0.8,
      "max": 2,
      "step": 0.1,
      "label": "Heading line height",
      "default": 1.2
    },
    {
      "type": "range",
      "id": "heading_margin_bottom",
      "min": 0,
      "max": 30,
      "step": 2,
      "unit": "px",
      "label": "Space below heading",
      "default": 8
    },
    {
      "type": "header",
      "content": "Typography - Subheading"
    },
    {
      "type": "range",
      "id": "subheading_font_size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Subheading font size",
      "default": 16
    },
    {
      "type": "select",
      "id": "subheading_font_weight",
      "label": "Subheading font weight",
      "options": [
        {
          "value": "300",
          "label": "Light"
        },
        {
          "value": "400",
          "label": "Normal"
        },
        {
          "value": "500",
          "label": "Medium"
        },
        {
          "value": "600",
          "label": "Semi Bold"
        }
      ],
      "default": "400"
    },
    {
      "type": "color",
      "id": "subheading_color",
      "label": "Subheading color",
      "default": "#666666"
    },
    {
      "type": "range",
      "id": "header_margin_bottom",
      "min": 10,
      "max": 80,
      "step": 5,
      "unit": "px",
      "label": "Space below header section",
      "default": 40
    },
    {
      "type": "header",
      "content": "Desktop Image Layout"
    },
    {
      "type": "range",
      "id": "large_image_width",
      "min": 30,
      "max": 50,
      "step": 1,
      "unit": "%",
      "label": "Large image width",
      "default": 40,
      "info": "Percentage of total width"
    },
    {
      "type": "range",
      "id": "small_images_width",
      "min": 50,
      "max": 70,
      "step": 1,
      "unit": "%",
      "label": "Small images section width",
      "default": 60,
      "info": "Percentage of total width"
    },
    {
      "type": "range",
      "id": "desktop_image_height",
      "min": 200,
      "max": 500,
      "step": 10,
      "unit": "px",
      "label": "Desktop image height",
      "default": 300
    },
    {
      "type": "range",
      "id": "grid_gap",
      "min": 8,
      "max": 32,
      "step": 2,
      "unit": "px",
      "label": "Gap between large and small images",
      "default": 16
    },
    {
      "type": "range",
      "id": "small_images_gap",
      "min": 8,
      "max": 24,
      "step": 2,
      "unit": "px",
      "label": "Gap between small images",
      "default": 16
    },
    {
      "type": "range",
      "id": "border_radius",
      "min": 0,
      "max": 30,
      "step": 2,
      "unit": "px",
      "label": "Image border radius",
      "default": 16
    },
    {
      "type": "header",
      "content": "Mobile Layout Settings"
    },
    {
      "type": "range",
      "id": "mobile_section_padding_top",
      "min": 0,
      "max": 80,
      "step": 5,
      "unit": "px",
      "label": "Mobile section padding top",
      "default": 40
    },
    {
      "type": "range",
      "id": "mobile_section_padding_bottom",
      "min": 0,
      "max": 80,
      "step": 5,
      "unit": "px",
      "label": "Mobile section padding bottom",
      "default": 40
    },
    {
      "type": "range",
      "id": "mobile_section_padding_horizontal",
      "min": 0,
      "max": 40,
      "step": 5,
      "unit": "px",
      "label": "Mobile horizontal padding",
      "default": 15
    },
    {
      "type": "range",
      "id": "mobile_heading_font_size",
      "min": 20,
      "max": 48,
      "step": 2,
      "unit": "px",
      "label": "Mobile heading font size",
      "default": 32
    },
    {
      "type": "range",
      "id": "mobile_subheading_font_size",
      "min": 12,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Mobile subheading font size",
      "default": 14
    },
    {
      "type": "range",
      "id": "mobile_header_margin_bottom",
      "min": 10,
      "max": 50,
      "step": 5,
      "unit": "px",
      "label": "Mobile space below header",
      "default": 30
    },
    {
      "type": "range",
      "id": "mobile_grid_gap",
      "min": 8,
      "max": 24,
      "step": 2,
      "unit": "px",
      "label": "Mobile gap between sections",
      "default": 16
    },
    {
      "type": "range",
      "id": "mobile_grid_columns",
      "min": 1,
      "max": 3,
      "step": 1,
      "label": "Mobile grid columns",
      "default": 2,
      "info": "Number of columns for small images on mobile"
    },
    {
      "type": "range",
      "id": "mobile_large_image_height",
      "min": 200,
      "max": 400,
      "step": 10,
      "unit": "px",
      "label": "Mobile large image height",
      "default": 280
    },
    {
      "type": "range",
      "id": "mobile_small_image_height",
      "min": 150,
      "max": 350,
      "step": 10,
      "unit": "px",
      "label": "Mobile small images height",
      "default": 250
    },
    {
      "type": "range",
      "id": "mobile_small_images_gap",
      "min": 8,
      "max": 20,
      "step": 2,
      "unit": "px",
      "label": "Mobile gap between small images",
      "default": 16
    },
    {
      "type": "range",
      "id": "mobile_third_image_width",
      "min": 40,
      "max": 80,
      "step": 5,
      "unit": "%",
      "label": "Mobile third image width",
      "default": 50,
      "info": "Width of the centered third image"
    },
    {
      "type": "header",
      "content": "Images"
    },
    {
      "type": "image_picker",
      "id": "image_1",
      "label": "Large Image (Left)"
    },
    {
      "type": "url",
      "id": "image_1_link",
      "label": "Large Image Link"
    },
    {
      "type": "image_picker",
      "id": "image_2",
      "label": "Small Image 1"
    },
    {
      "type": "url",
      "id": "image_2_link",
      "label": "Small Image 1 Link"
    },
    {
      "type": "image_picker",
      "id": "image_3",
      "label": "Small Image 2"
    },
    {
      "type": "url",
      "id": "image_3_link",
      "label": "Small Image 2 Link"
    },
    {
      "type": "image_picker",
      "id": "image_4",
      "label": "Small Image 3"
    },
    {
      "type": "url",
      "id": "image_4_link",
      "label": "Small Image 3 Link"
    }
  ],
  "presets": [
    {
      "name": "Stay in Touch",
      "category": "Image"
    }
  ]
}
{% endschema %}