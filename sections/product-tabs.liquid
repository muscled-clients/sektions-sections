{% style %}
  #shopify-section-{{ section.id }} {
    padding: {{ section.settings.padding_top }}px 0 {{ section.settings.padding_bottom }}px;
    background-color: {{ section.settings.background_color }};
  }
  #shopify-section-{{ section.id }} .product-tabs-wrapper {
    max-width: 900px;
    margin: 0 auto;
    padding: 0 40px;
  }
  #shopify-section-{{ section.id }} .product-tabs-nav {
    display: flex;
    align-items: center;
    justify-content: flex-start;
    gap: 40px;
    border-bottom: 1px solid #e0e0e0;
    padding-bottom: 0;
  }
  #shopify-section-{{ section.id }} .product-tab-btn {
    display: flex;
    align-items: center;
    gap: 8px;
    background: none;
    border: none;
    padding: 0 0 12px 0;
    cursor: pointer;
    font-size: {{ section.settings.tab_font_size }}px;
    font-family: {{ section.settings.tab_font }};
    color: {{ section.settings.text_color }};
    font-weight: {{ section.settings.tab_weight }};
    position: relative;
    transition: color 0.2s ease;
    white-space: nowrap;
  }
  #shopify-section-{{ section.id }} .product-tab-btn::after {
    content: '';
    position: absolute;
    bottom: -1px;
    left: 0;
    width: 100%;
    height: 2px;
    background-color: {{ section.settings.text_color }};
    transform: scaleX(0);
    transition: transform 0.2s ease;
  }
  #shopify-section-{{ section.id }} .product-tab-btn.active {
    font-weight: 600;
  }
  #shopify-section-{{ section.id }} .product-tab-btn.active::after {
    transform: scaleX(1);
  }
  #shopify-section-{{ section.id }} .product-tab-btn:hover {
    opacity: 0.8;
  }
  #shopify-section-{{ section.id }} .product-tab-btn svg {
    width: 18px;
    height: 18px;
    flex-shrink: 0;
  }
  #shopify-section-{{ section.id }} .product-tab-btn img {
    width: 18px;
    height: 18px;
    flex-shrink: 0;
    object-fit: contain;
  }
  #shopify-section-{{ section.id }} .product-tabs-content {
    padding-top: 24px;
  }
  #shopify-section-{{ section.id }} .product-tab-panel {
    display: none;
    opacity: 0;
    transition: opacity 0.3s ease;
  }
  #shopify-section-{{ section.id }} .product-tab-panel.active {
    display: block;
    opacity: 1;
  }
  #shopify-section-{{ section.id }} .product-tab-panel p,
  #shopify-section-{{ section.id }} .product-tab-panel {
    font-size: {{ section.settings.content_font_size }}px;
    line-height: 1.7;
    color: {{ section.settings.content_color }};
    font-family: {{ section.settings.content_font }};
    font-weight: {{ section.settings.content_weight }};
    margin: 0;
  }
  #shopify-section-{{ section.id }} .product-tab-panel p + p {
    margin-top: 16px;
  }
  @media screen and (max-width: 750px) {
    #shopify-section-{{ section.id }} .product-tabs-wrapper {
      padding: 0 20px;
    }
    #shopify-section-{{ section.id }} .product-tabs-nav {
      flex-direction: column;
      align-items: flex-start;
      gap: 0;
      border-bottom: none;
    }
    #shopify-section-{{ section.id }} .product-tab-btn {
      width: 100%;
      padding: 12px 0;
      border-bottom: 1px solid #e0e0e0;
      font-size: calc({{ section.settings.tab_font_size }}px * 0.9);
    }
    #shopify-section-{{ section.id }} .product-tab-btn::after {
      bottom: -1px;
      height: 2px;
    }
    #shopify-section-{{ section.id }} .product-tabs-content {
      padding-top: 20px;
    }
    #shopify-section-{{ section.id }} .product-tab-panel p,
    #shopify-section-{{ section.id }} .product-tab-panel {
      font-size: calc({{ section.settings.content_font_size }}px * 0.95);
    }
  }
{% endstyle %}
<div class="product-tabs-section" id="product-tabs-{{ section.id }}">
  <div class="product-tabs-wrapper">
    <div class="product-tabs-nav" role="tablist">
      <button class="product-tab-btn active" role="tab" aria-selected="true" data-tab="1">
        {% if section.settings.icon_1 != blank %}
          <img src="{{ section.settings.icon_1 | image_url: width: 36 }}" alt="">
        {% else %}
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10"></circle>
            <line x1="12" y1="16" x2="12" y2="12"></line>
            <line x1="12" y1="8" x2="12.01" y2="8"></line>
          </svg>
        {% endif %}
        <span>{{ section.settings.tab_1_title }}</span>
      </button>
      <button class="product-tab-btn" role="tab" aria-selected="false" data-tab="2">
        {% if section.settings.icon_2 != blank %}
          <img src="{{ section.settings.icon_2 | image_url: width: 36 }}" alt="">
        {% else %}
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="9 14 4 9 9 4"></polyline>
            <path d="M20 20v-7a4 4 0 0 0-4-4H4"></path>
          </svg>
        {% endif %}
        <span>{{ section.settings.tab_2_title }}</span>
      </button>
      <button class="product-tab-btn" role="tab" aria-selected="false" data-tab="3">
        {% if section.settings.icon_3 != blank %}
          <img src="{{ section.settings.icon_3 | image_url: width: 36 }}" alt="">
        {% else %}
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
            <path d="M9 12l2 2 4-4"></path>
          </svg>
        {% endif %}
        <span>{{ section.settings.tab_3_title }}</span>
      </button>
    </div>
    <div class="product-tabs-content">
      <div class="product-tab-panel active" role="tabpanel" data-panel="1">
        {{ section.settings.tab_1_content }}
      </div>
      <div class="product-tab-panel" role="tabpanel" data-panel="2">
        {{ section.settings.tab_2_content }}
      </div>
      <div class="product-tab-panel" role="tabpanel" data-panel="3">
        {{ section.settings.tab_3_content }}
      </div>
    </div>
  </div>
</div>
<script>
  (function() {
    function initProductTabs() {
      const container = document.getElementById('product-tabs-{{ section.id }}');
      if (!container) return;
      const tabs = container.querySelectorAll('.product-tab-btn');
      const panels = container.querySelectorAll('.product-tab-panel');
      tabs.forEach(tab => {
        tab.addEventListener('click', function() {
          const tabId = this.getAttribute('data-tab');
          tabs.forEach(t => {
            t.classList.remove('active');
            t.setAttribute('aria-selected', 'false');
          });
          panels.forEach(p => {
            p.classList.remove('active');
          });
          this.classList.add('active');
          this.setAttribute('aria-selected', 'true');
          const activePanel = container.querySelector('[data-panel="' + tabId + '"]');
          if (activePanel) {
            activePanel.classList.add('active');
          }
        });
      });
    }
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initProductTabs);
    } else {
      initProductTabs();
    }
    document.addEventListener('shopify:section:load', function(event) {
      if (event.detail.sectionId === '{{ section.id }}') {
        initProductTabs();
      }
    });
  })();
</script>
{% schema %}
{
  "name": "Product Tabs",
  "tag": "section",
  "settings": [
    {
      "type": "header",
      "content": "Tab 1"
    },
    {
      "type": "text",
      "id": "tab_1_title",
      "label": "Tab 1 title",
      "default": "Description"
    },
    {
      "type": "richtext",
      "id": "tab_1_content",
      "label": "Tab 1 content",
      "default": "<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius enim in eros elementum tristique. Duis cursus, mi quis viverra ornare, eros dolor interdum nulla, ut commodo diam libero vitae erat. Aenean faucibus nibh et justo cursus id rutrum lorem imperdiet. Nunc ut sem vitae risus tristique posuere.</p>"
    },
    {
      "type": "image_picker",
      "id": "icon_1",
      "label": "Tab 1 icon (optional)"
    },
    {
      "type": "header",
      "content": "Tab 2"
    },
    {
      "type": "text",
      "id": "tab_2_title",
      "label": "Tab 2 title",
      "default": "Shipping and returns"
    },
    {
      "type": "richtext",
      "id": "tab_2_content",
      "label": "Tab 2 content",
      "default": "<p>We offer free standard shipping on all orders over $50. Orders are processed within 1-2 business days and typically arrive within 5-7 business days. Express shipping options are available at checkout for faster delivery.</p><p>Returns are accepted within 30 days of purchase. Items must be unworn, unwashed, and in original packaging. Contact our support team to initiate a return.</p>"
    },
    {
      "type": "image_picker",
      "id": "icon_2",
      "label": "Tab 2 icon (optional)"
    },
    {
      "type": "header",
      "content": "Tab 3"
    },
    {
      "type": "text",
      "id": "tab_3_title",
      "label": "Tab 3 title",
      "default": "Our guarantee to you"
    },
    {
      "type": "richtext",
      "id": "tab_3_content",
      "label": "Tab 3 content",
      "default": "<p>We stand behind the quality of our products. If you're not completely satisfied with your purchase, we'll make it right. Our commitment to excellence means you can shop with confidence knowing that your satisfaction is our top priority.</p>"
    },
    {
      "type": "image_picker",
      "id": "icon_3",
      "label": "Tab 3 icon (optional)"
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Tab text color",
      "default": "#164A2D"
    },
    {
      "type": "color",
      "id": "content_color",
      "label": "Content text color",
      "default": "#3d6b4f"
    },
    {
      "type": "header",
      "content": "Tab Typography"
    },
    {
      "type": "range",
      "id": "tab_font_size",
      "label": "Tab font size",
      "min": 14,
      "max": 20,
      "step": 1,
      "unit": "px",
      "default": 16
    },
    {
      "type": "select",
      "id": "tab_font",
      "label": "Tab font family",
      "options": [
        {"value": "inherit", "label": "Default"},
        {"value": "Arial, sans-serif", "label": "Arial"},
        {"value": "Helvetica, sans-serif", "label": "Helvetica"},
        {"value": "Georgia, serif", "label": "Georgia"},
        {"value": "Times New Roman, serif", "label": "Times New Roman"},
        {"value": "Courier New, monospace", "label": "Courier New"},
        {"value": "Verdana, sans-serif", "label": "Verdana"},
        {"value": "Trebuchet MS, sans-serif", "label": "Trebuchet MS"},
        {"value": "Palatino, serif", "label": "Palatino"},
        {"value": "Lucida Sans, sans-serif", "label": "Lucida Sans"},
        {"value": "Impact, sans-serif", "label": "Impact"}
      ],
      "default": "inherit"
    },
    {
      "type": "select",
      "id": "tab_weight",
      "label": "Tab font weight",
      "options": [
        {"value": "400", "label": "Normal"},
        {"value": "600", "label": "Semi-bold"},
        {"value": "700", "label": "Bold"}
      ],
      "default": "400"
    },
    {
      "type": "header",
      "content": "Content Typography"
    },
    {
      "type": "range",
      "id": "content_font_size",
      "label": "Content font size",
      "min": 14,
      "max": 20,
      "step": 1,
      "unit": "px",
      "default": 16
    },
    {
      "type": "select",
      "id": "content_font",
      "label": "Content font family",
      "options": [
        {"value": "inherit", "label": "Default"},
        {"value": "Arial, sans-serif", "label": "Arial"},
        {"value": "Helvetica, sans-serif", "label": "Helvetica"},
        {"value": "Georgia, serif", "label": "Georgia"},
        {"value": "Times New Roman, serif", "label": "Times New Roman"},
        {"value": "Courier New, monospace", "label": "Courier New"},
        {"value": "Verdana, sans-serif", "label": "Verdana"},
        {"value": "Trebuchet MS, sans-serif", "label": "Trebuchet MS"},
        {"value": "Palatino, serif", "label": "Palatino"},
        {"value": "Lucida Sans, sans-serif", "label": "Lucida Sans"},
        {"value": "Impact, sans-serif", "label": "Impact"}
      ],
      "default": "inherit"
    },
    {
      "type": "select",
      "id": "content_weight",
      "label": "Content font weight",
      "options": [
        {"value": "400", "label": "Normal"},
        {"value": "600", "label": "Semi-bold"},
        {"value": "700", "label": "Bold"}
      ],
      "default": "400"
    },
    {
      "type": "header",
      "content": "Spacing"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Padding top",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "default": 40
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Padding bottom",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "default": 40
    }
  ],
  "presets": [
    {
      "name": "Product Tabs"
    }
  ]
}
{% endschema %}
