{% comment %}
  Product Carousel Section
  Horizontal cards with gummy products and arrows
{% endcomment %}

<div class="product-carousel-section" data-section-id="{{ section.id }}" style="--card-padding-desktop: {{ section.settings.card_padding_desktop }}px; --card-padding-mobile: {{ section.settings.card_padding_mobile }}px;">
  <div class="product-carousel__container">
    <div class="product-carousel__cards">
      {% for block in section.blocks %}
        <div class="product-card" {{ block.shopify_attributes }}>
          <h3 class="product-card__title">
            <span class="product-card__title-colored" style="color: {{ block.settings.title_color }};">{{ block.settings.title_part1 }}</span>
            <span class="product-card__title-black">{{ block.settings.title_part2 }}</span>
          </h3>
          {% if block.settings.product_image != blank %}
            <img src="{{ block.settings.product_image | img_url: '120x' }}" alt="{{ block.settings.title_part1 }} {{ block.settings.title_part2 }}" class="product-card__image">
          {% endif %}
          <div class="product-card__arrow">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="5" y1="12" x2="19" y2="12"></line>
              <polyline points="12 5 19 12 12 19"></polyline>
            </svg>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</div>

<style>
.product-carousel-section {
  width: 100%;
  background-color: {{ section.settings.section_bg | default: '#E6F4F9' }};
  padding: 60px 20px;
  overflow: hidden;
}

.product-carousel__container {
  max-width: 1400px;
  margin: 0 auto;
}

.product-carousel__cards {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 16px;
  flex-wrap: nowrap;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
  -ms-overflow-style: none;
  scroll-snap-type: x proximity;
  scroll-padding: 20px;
}

.product-carousel__cards::-webkit-scrollbar {
  display: none;
}

.product-card {
  background-color: {{ section.settings.card_bg | default: '#F9F8E5' }};
  border-radius: 20px;
  padding: var(--card-padding-desktop, 30px) calc(var(--card-padding-desktop, 30px) * 1.2);
  display: flex;
  align-items: center;
  gap: 20px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  flex-shrink: 0;
  scroll-snap-align: start;
}

.product-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12);
}

.product-card__title {
  font-family: 'Helvetica Neue', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  font-size: 24px;
  margin: 0;
  line-height: 1.3;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.product-card__title-colored {
  font-weight: 700;
  display: block;
}

.product-card__title-black {
  font-weight: 400;
  color: #2B2B2B;
  display: block;
}

.product-card__image {
  width: 80px;
  height: 80px;
  object-fit: contain;
  flex-shrink: 0;
}

.product-card__arrow {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  margin-left: 8px;
}

.product-card__arrow svg {
  color: {{ section.settings.arrow_color | default: '#4B5563' }};
  width: 20px;
  height: 20px;
}

/* Responsive Design */
@media screen and (max-width: 1200px) {
  .product-carousel__cards {
    justify-content: flex-start;
    padding-bottom: 10px;
    gap: 12px;
  }

  .product-card {
    padding: 26px 30px;
  }

  .product-card__title {
    font-size: 22px;
  }

  .product-card__image {
    width: 70px;
    height: 70px;
  }
}

@media screen and (max-width: 768px) {
  .product-carousel-section {
    padding: 40px 16px;
  }

  .product-carousel__cards {
    display: grid !important;
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
    overflow-x: visible !important;
    overflow-y: visible;
    scroll-snap-type: none !important;
  }

  .product-card {
    padding: var(--card-padding-mobile, 16px) calc(var(--card-padding-mobile, 16px) * 1.125);
    gap: 10px;
    width: 100%;
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
    scroll-snap-align: none !important;
  }

  .product-card__title {
    font-size: 14px;
    flex-direction: column;
    align-items: flex-start;
    gap: 0;
    flex: 0 0 auto;
  }

  .product-card__image {
    width: 45px;
    height: 45px;
    margin-left: auto;
    margin-right: 8px;
  }

  .product-card__arrow {
    margin-left: 0;
    flex-shrink: 0;
  }

  .product-card__arrow svg {
    width: 16px;
    height: 16px;
  }
}

@media screen and (max-width: 480px) {
  .product-carousel-section {
    padding: 30px 12px;
  }

  .product-card {
    padding: 14px 16px;
    gap: 8px;
  }

  .product-card__title {
    font-size: 13px;
  }

  .product-card__image {
    width: 40px;
    height: 40px;
    margin-right: 6px;
  }

  .product-card__arrow svg {
    width: 14px;
    height: 14px;
  }
}
</style>

{% schema %}
{
  "name": "Product Carousel",
  "settings": [
    {
      "type": "header",
      "content": "Section Settings"
    },
    {
      "type": "color",
      "id": "section_bg",
      "label": "Section Background Color",
      "default": "#E6F4F9"
    },
    {
      "type": "color",
      "id": "card_bg",
      "label": "Card Background Color",
      "default": "#F9F8E5"
    },
    {
      "type": "color",
      "id": "arrow_color",
      "label": "Arrow Color",
      "default": "#4B5563"
    },
    {
      "type": "header",
      "content": "Card Spacing"
    },
    {
      "type": "range",
      "id": "card_padding_desktop",
      "label": "Card Padding (Desktop)",
      "min": 20,
      "max": 50,
      "step": 2,
      "unit": "px",
      "default": 30,
      "info": "Vertical padding for cards on desktop"
    },
    {
      "type": "range",
      "id": "card_padding_mobile",
      "label": "Card Padding (Mobile)",
      "min": 10,
      "max": 30,
      "step": 2,
      "unit": "px",
      "default": 16,
      "info": "Vertical padding for cards on mobile"
    }
  ],
  "blocks": [
    {
      "type": "product_card",
      "name": "Product Card",
      "settings": [
        {
          "type": "text",
          "id": "title_part1",
          "label": "Title Part 1 (Colored)",
          "default": "Joint"
        },
        {
          "type": "text",
          "id": "title_part2",
          "label": "Title Part 2 (Black)",
          "default": "Support"
        },
        {
          "type": "color",
          "id": "title_color",
          "label": "Title Color",
          "default": "#F77F7F"
        },
        {
          "type": "image_picker",
          "id": "product_image",
          "label": "Product Image"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Product Carousel",
      "settings": {
        "section_bg": "#e6f4f9",
        "card_bg": "#f9f8e5",
        "arrow_color": "#4b5563",
        "card_padding_desktop": 30,
        "card_padding_mobile": 16
      },
      "blocks": [
        {
          "type": "product_card",
          "settings": {
            "title_part1": "Joint",
            "title_part2": "Support",
            "title_color": "#f77f7f"
          }
        },
        {
          "type": "product_card",
          "settings": {
            "title_part1": "Turmeric",
            "title_part2": "Gummies",
            "title_color": "#ff8c42"
          }
        },
        {
          "type": "product_card",
          "settings": {
            "title_part1": "Sleep",
            "title_part2": "Well",
            "title_color": "#e85d9e"
          }
        },
        {
          "type": "product_card",
          "settings": {
            "title_part1": "Multi",
            "title_part2": "Vitamin",
            "title_color": "#a1a3f3"
          }
        }
      ]
    }
  ]
}
{% endschema %}
