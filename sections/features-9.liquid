{% style %}
  #shopify-section-{{ section.id }} {
    --f9-bg: {{ section.settings.background_color }};
    --f9-text: {{ section.settings.text_color }};
    --f9-heading: {{ section.settings.heading_color }};
    --f9-icon: {{ section.settings.icon_color }};
    margin-top: {{ section.settings.margin_top }}px;
    margin-bottom: {{ section.settings.margin_bottom }}px;
  }
{% endstyle %}

<style>
  @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap');

  .features-9 {
    background: var(--f9-bg, #ffffff);
    padding: 40px 20px;
    font-family: 'Inter', sans-serif;
  }

  .features-9__container {
    max-width: 1200px;
    margin: 0 auto;
  }

  .features-9__grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 40px;
    align-items: start;
  }

  /* Content Side */
  .features-9__content {
    order: 1;
  }

  .features-9__title {
    font-family: 'Playfair Display', serif;
    font-size: 32px;
    font-weight: 700;
    color: var(--f9-heading, #1a1a1a);
    margin: 0 0 32px;
    line-height: 1.2;
  }

  /* Features Grid */
  .features-9__features {
    display: grid;
    grid-template-columns: 1fr;
    gap: 32px;
  }

  .features-9__feature {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  .features-9__feature-icon {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--f9-icon, #b8860b);
  }

  .features-9__feature-icon img {
    width: 32px;
    height: 32px;
    object-fit: contain;
  }

  .features-9__feature-icon svg {
    width: 32px;
    height: 32px;
  }

  .features-9__feature-title {
    font-size: 16px;
    font-weight: 600;
    color: var(--f9-heading, #1a1a1a);
    margin: 0;
    line-height: 1.3;
  }

  .features-9__feature-text {
    font-size: 14px;
    font-weight: 400;
    color: var(--f9-text, #666666);
    margin: 0;
    line-height: 1.6;
  }

  /* Image Side */
  .features-9__image-wrapper {
    order: 2;
    position: relative;
  }

  .features-9__image {
    width: 100%;
    border-radius: {{ section.settings.image_border_radius }}px;
    overflow: hidden;
    aspect-ratio: 4 / 5;
  }

  .features-9__image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .features-9__image-placeholder {
    width: 100%;
    height: 100%;
    min-height: 300px;
    background: linear-gradient(135deg, #f5f5f5 0%, #e8e8e8 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    color: #999;
    font-size: 14px;
    border-radius: {{ section.settings.image_border_radius }}px;
  }

  /* Tablet */
  @media (min-width: 768px) {
    .features-9 {
      padding: 60px 30px;
    }

    .features-9__title {
      font-size: 38px;
    }

    .features-9__features {
      grid-template-columns: repeat(2, 1fr);
      gap: 40px 32px;
    }
  }

  /* Desktop */
  @media (min-width: 1024px) {
    .features-9 {
      padding: 80px 50px;
    }

    .features-9__grid {
      grid-template-columns: 1fr 1fr;
      gap: 60px;
      align-items: center;
    }

    .features-9__content {
      order: {% if section.settings.image_position == 'left' %}2{% else %}1{% endif %};
    }

    .features-9__image-wrapper {
      order: {% if section.settings.image_position == 'left' %}1{% else %}2{% endif %};
    }

    .features-9__title {
      font-size: 42px;
      margin-bottom: 40px;
    }

    .features-9__features {
      gap: 48px 40px;
    }

    .features-9__image {
      aspect-ratio: 3 / 4;
    }
  }

  /* Large Desktop */
  @media (min-width: 1400px) {
    .features-9 {
      padding: 100px 60px;
    }

    .features-9__grid {
      gap: 80px;
    }

    .features-9__title {
      font-size: 48px;
    }

    .features-9__feature-icon {
      width: 44px;
      height: 44px;
    }

    .features-9__feature-icon img,
    .features-9__feature-icon svg {
      width: 36px;
      height: 36px;
    }

    .features-9__feature-title {
      font-size: 17px;
    }

    .features-9__feature-text {
      font-size: 15px;
    }
  }
</style>

<section class="features-9" data-section-id="{{ section.id }}">
  <div class="features-9__container">
    <div class="features-9__grid">
      <!-- Content -->
      <div class="features-9__content">
        {%- if section.settings.title != blank -%}
          <h2 class="features-9__title">{{ section.settings.title }}</h2>
        {%- endif -%}

        <!-- Features Grid -->
        {%- if section.blocks.size > 0 -%}
          <div class="features-9__features">
            {%- for block in section.blocks -%}
              <div class="features-9__feature" {{ block.shopify_attributes }}>
                <div class="features-9__feature-icon" {% if block.settings.icon_color != blank %}style="color: {{ block.settings.icon_color }};"{% endif %}>
                  {%- if block.settings.icon != blank -%}
                    {{ block.settings.icon | image_url: width: 72 | image_tag }}
                  {%- else -%}
                    {%- case block.settings.icon_type -%}
                      {%- when 'globe' -%}
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                          <circle cx="12" cy="12" r="10"/>
                          <line x1="2" y1="12" x2="22" y2="12"/>
                          <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
                        </svg>
                      {%- when 'sun' -%}
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                          <circle cx="12" cy="12" r="5"/>
                          <line x1="12" y1="1" x2="12" y2="3"/>
                          <line x1="12" y1="21" x2="12" y2="23"/>
                          <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
                          <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
                          <line x1="1" y1="12" x2="3" y2="12"/>
                          <line x1="21" y1="12" x2="23" y2="12"/>
                          <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
                          <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
                        </svg>
                      {%- when 'zap' -%}
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                          <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>
                        </svg>
                      {%- when 'refresh' -%}
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                          <polyline points="23 4 23 10 17 10"/>
                          <polyline points="1 20 1 14 7 14"/>
                          <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/>
                        </svg>
                      {%- when 'heart' -%}
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                          <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                        </svg>
                      {%- when 'shield' -%}
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                          <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                        </svg>
                      {%- else -%}
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                          <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                          <polyline points="22 4 12 14.01 9 11.01"/>
                        </svg>
                      {%- endcase -%}
                  {%- endif -%}
                </div>
                {%- if block.settings.title != blank -%}
                  <h4 class="features-9__feature-title">{{ block.settings.title }}</h4>
                {%- endif -%}
                {%- if block.settings.text != blank -%}
                  <p class="features-9__feature-text">{{ block.settings.text }}</p>
                {%- endif -%}
              </div>
            {%- endfor -%}
          </div>
        {%- endif -%}
      </div>

      <!-- Image -->
      <div class="features-9__image-wrapper">
        <div class="features-9__image">
          {%- if section.settings.image != blank -%}
            {{ section.settings.image | image_url: width: 800 | image_tag: loading: 'lazy', alt: section.settings.title }}
          {%- else -%}
            <div class="features-9__image-placeholder">
              <span>Add image</span>
            </div>
          {%- endif -%}
        </div>
      </div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "SEK Features 9",
  "tag": "section",
  "class": "section-features-9",
  "settings": [
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "Benefits of daily use"
    },
    {
      "type": "header",
      "content": "Image"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "range",
      "id": "image_border_radius",
      "label": "Image border radius",
      "min": 0,
      "max": 40,
      "step": 2,
      "unit": "px",
      "default": 16
    },
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "select",
      "id": "image_position",
      "label": "Image position",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "right"
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading color",
      "default": "#1a1a1a"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#666666"
    },
    {
      "type": "color",
      "id": "icon_color",
      "label": "Default icon color",
      "default": "#b8860b"
    },
    {
      "type": "header",
      "content": "Section spacing"
    },
    {
      "type": "range",
      "id": "margin_top",
      "label": "Margin top",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "default": 0
    },
    {
      "type": "range",
      "id": "margin_bottom",
      "label": "Margin bottom",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "default": 0
    }
  ],
  "blocks": [
    {
      "type": "feature",
      "name": "Feature",
      "settings": [
        {
          "type": "image_picker",
          "id": "icon",
          "label": "Custom icon image",
          "info": "Upload a custom icon (48x48 recommended)"
        },
        {
          "type": "select",
          "id": "icon_type",
          "label": "Default icon",
          "options": [
            {
              "value": "check",
              "label": "Checkmark"
            },
            {
              "value": "globe",
              "label": "Globe"
            },
            {
              "value": "sun",
              "label": "Sun"
            },
            {
              "value": "zap",
              "label": "Lightning"
            },
            {
              "value": "refresh",
              "label": "Refresh/Recovery"
            },
            {
              "value": "heart",
              "label": "Heart"
            },
            {
              "value": "shield",
              "label": "Shield"
            }
          ],
          "default": "check",
          "info": "Used if no custom icon is uploaded"
        },
        {
          "type": "color",
          "id": "icon_color",
          "label": "Icon color",
          "info": "Leave blank to use default"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Feature Title"
        },
        {
          "type": "textarea",
          "id": "text",
          "label": "Description",
          "default": "Brief description of this feature and its benefits."
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "SEK Features 9",
      "settings": {
        "title": "Benefits of daily use",
        "image_position": "right",
        "image_border_radius": 16,
        "icon_color": "#b8860b"
      },
      "blocks": [
        {
          "type": "feature",
          "settings": {
            "icon_type": "globe",
            "icon_color": "#b8860b",
            "title": "Wellbeing & Foundational Health",
            "text": "AG1 supports key health areas every day: mental fitness, bones, heart, skin, hair, nails & hormones."
          }
        },
        {
          "type": "feature",
          "settings": {
            "icon_type": "sun",
            "icon_color": "#dc2626",
            "title": "Immune System",
            "text": "Copper, folate, selenium, zinc and vitamins A, B12, B6, and C contribute to normal function of the immune system."
          }
        },
        {
          "type": "feature",
          "settings": {
            "icon_type": "zap",
            "icon_color": "#b8860b",
            "title": "Energy Metabolism",
            "text": "Copper, biotin, niacin, pantothenic acid, thiamine and vitamins B2 (riboflavin), B12, B6 and C contribute to normal energy-yielding metabolism."
          }
        },
        {
          "type": "feature",
          "settings": {
            "icon_type": "refresh",
            "icon_color": "#dc2626",
            "title": "Muscle Recovery",
            "text": "Copper, selenium and zinc and vitamins B2 (riboflavin) and C contribute to the protection of cells from oxidative stress."
          }
        }
      ]
    }
  ]
}
{% endschema %}
